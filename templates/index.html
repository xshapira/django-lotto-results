{% extends "base.html" %}
{% block content %}
  <section class="max-w-3xl mx-auto mb-4 text-center px-4 pt-24 pb-12 md:pt-32 md:pb-20 sm:px-6">
    <h1 class="text-4xl font-bold mb-8">חיפוש תוצאות לוטו</h1>
    <form method="post"
          hx-post="/review-lottery-results/"
          hx-container
          hx-swap="#results">
      {% csrf_token %}
      <div class="flex flex-wrap -mx-3 mb-4">
        <div class="w-full px-3">
          <div dir="rtl">
            <label for="number">מספר ההגרלה:</label>
            <br/>
            <input class="border rounded-md w-1/2 py-2 px-3 text-grey-darker"
                   type="text"
                   id="number"
                   name="number"
                   value="{{ number }}"
                   placeholder="הקלד מספר הגרלה"/>
          </div>
          {% if errors %}
            <div dir="rtl" class="mt-2 text-sm text-red-600 dark:text-red-500">
              {% for error in errors %}<p>{{ error }}</p>{% endfor %}
            </div>
          {% endif %}
          <button class="block mx-auto shadow bg-blue-600 hover:bg-blue-700 focus:shadow-outline focus:outline-none text-white py-2 px-10 rounded-lg mt-4 text-base"
                  type="submit">
            שלח
          </button>
        </div>
      </div>
    </form>
    <div id="results">
      {% if lotto_results %}
        <hr class="my-8 h-px border-0 bg-gray-400" />
        <ul>
          {% for result in lotto_results %}
            <li class="mt-6">
              <p class="mb-2 font-bold text-2xl">{{ result.title }}</p>
              <p class="mb-2">{{ result.date }}</p>
              <div class="flex mt-6 ml-6">
                <div class="inline-flex shadow-xl border border-gray-100 rounded-lg">
                  {% for num in result.numbers %}
                    <div class="container bg-white px-6 py-4 rounded-lg">
                      <div class="w-12 h-12 rounded-full bg-red-500 inline-flex items-center justify-center text-2xl text-white">
                        {{ num }}
                      </div>
                    </div>
                  {% endfor %}
                </div>
                <div class="flex bg-white px-6 py-4 ml-4 shadow-lg rounded-lg border border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-blue-300 inline-flex items-center justify-center text-2xl text-black">
                    {{ result.strong_number }}
                  </div>
                </div>
              </div>
              <div dir="rtl"
                   class="flex items-center justify-center text-center text-base mt-2">תוצאות הגרלה לוטו</div>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </section>
{% endblock content %}
